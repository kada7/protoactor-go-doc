位置透明度

上一节介绍了如何使用actorPID来启用位置透明性。
此特殊功能值得进一步解释，因为相关术语“透明远程处理”在编程语言，平台和技术的上下文中使用的方式完全不同。


默认分发

Proto.Actor中的所有内容都旨在在分布式环境中工作：actor的所有交互都纯粹使用消息传递，而一切都是异步的。
努力确保当在单个actor系统中或在数百台机器的群集中运行时，所有功能均等可用。
实现此目的的关键是通过优化从远程到本地，而不是通过泛化尝试从本地到远程。


在Proto.Actor中，可以认为PID与电话号码相似。
如果您拥有某人的PID，则可以与他们进行通信。
不管它们是近还是远。


使用PID与本地actor进行通信：

本地actor

使用PID与远程actor进行通信：

遥控actor

打破透明度的方式

与在您附近的某人说话而不是在另一个国家/地区通过手机说话的差异有所不同，在该国家中，接收质量可能很差，通信也会延迟，在构建分布式系统时，需要考虑一些方面。


Proto.Actor的适用情况不必与使用Proto.Actor的应用程序相同，因为为分布式执行而设计会对可能的情况造成一些限制。
最明显的是，所有通过网络发送的消息都必须可序列化。
在Proto.Actor中，远程消息传递的默认值为Protobuf。
在.NET平台上，我们内置了对开箱即用C＃生成Protobuf的支持。
优良作法是用这种方式定义大多数系统消息，以避免以后出现问题从不可序列化消息转换为可序列化消息。


另一个后果是，所有事情都需要意识到所有交互都是完全异步的，这在计算机网络中可能意味着消息可能需要几分钟才能到达其接收者（取决于配置）。
这也意味着消息丢失的可能性远高于一个CLR（该消息接近零）内的可能性。


对等与客户端服务器

Proto.Remote是用于以对等方式连接actor系统的通信模块，并且是Proto.Cluster的基础。
远程设计由两个（相关的）设计决策驱动：


涉及的系统之间的通信是对称的：如果系统A可以连接到系统B，则系统B也必须能够独立连接到系统A。
通信系统的actor在连接模式方面是对称的：没有系统仅接受连接，没有系统仅发起连接。


路由器扩展的标记点

除了能够在集群的不同节点上运行actor系统的不同部分之外，还可以通过乘以支持并行化的actor子树来扩展到更多的核心（例如，搜索引擎处理不同的查询）。
平行）。
然后可以将克隆以不同的方式路由至，例如
轮循。
实现这一目标的唯一必要条件是，开发人员需要使用New *** Router声明一个特定的actor，然后（将代替它）创建一个router actor，它将产生可配置数量的所需类型的children，
以配置的方式路由到他们。
在路由器中阅读有关此内容的更多信息。