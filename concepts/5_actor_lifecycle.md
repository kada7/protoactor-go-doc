actor生命周期

生成actor后，它会经历生命周期，涉及许多可能的状态和动作。
在最基本的情况下，首先创建或“生成”一个派生的actor，发送一个Started消息，并将一直运行直到应用程序关闭。
但是，在某些情况下生命周期会有所不同。


停止actor

也可以通过调用PID.Stop（）方法来有意停止actor。


失败与监督

当actor无法处理邮件（即从接收者返回错误）时，该actor的邮箱将被暂停以暂停进一步处理，并且故障将升级为负责该actor的任何人（请参见监督）。
根据Supervisor决定应用的指示，可以恢复，重新启动或停止actor。


恢复

在这种情况下，仅恢复邮箱，actor将从先前失败的消息开始继续运行。


停止

在这种情况下，actor将被简单地停止，基础对象将被销毁。
在被停止之前，actor会收到一个Stopping消息，而在被停止之后，actor会收到一个Stopped消息。


重新开始

在这种情况下，将首先向actor发送一个Restarting消息，通知它即将被重启。
处理完之后，actor将停止，基础对象被销毁，然后再次创建。
然后，邮箱将恢复，新创建的actor将收到一条Started消息。


处理生命周期事件

已启动是actor在生成或重新启动后收到的第一条消息。
如果您需要为actor设置初始状态，请处理此消息。
从数据库加载数据。

当actor将要重新启动时发送重新启动，而actor将要停止时发送停止。
在这两种情况下，actor对象都将被销毁，因此如果您需要执行一些拆卸逻辑以进行正常关闭，则应处理这些消息，例如
将您的状态保存到数据库。

当actor停止并且actor及其相关对象从系统分离时，发送Stopped。
在此阶段，actor无法再发送或接收任何消息，并且在处理完消息后，对象将可以进行垃圾回收。